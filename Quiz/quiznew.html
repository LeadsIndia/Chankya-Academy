<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Indian Geography Quiz Generator (PyScript)</title>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 24px; }
        #output { white-space: pre-wrap; background: #f8f8f8; padding: 12px; border-radius: 6px; }
        button { margin: 10px 0; }
    </style>
</head>
<body>
    <h2>Indian Geography Quiz Generator (PyScript)</h2>
    <label>Questions per Region: <input type="number" id="per_region" value="5" min="1" max="100"/></label>
    <button py-click="generate_quiz">Generate Quiz</button>
    <button py-click="download_json">Download JSON</button>
    <div id="output"></div>

    <py-script>
import json
from js import document, Blob, URL

regions = [
    {"name": "North India"},
    {"name": "South India"},
    {"name": "East India"},
    {"name": "West India"},
    {"name": "Central India"},
    {"name": "Northeast India"}
]

all_questions = []

def generate_quiz(*args, **kwargs):
    global all_questions
    per_region = int(document.getElementById("per_region").value)
    all_questions = []
    for region in regions:
        for i in range(1, per_region+1):
            q = {
                "region": region["name"],
                "question": f"{region['name']} Sample Question {i}",
                "options": [f"Option A{i}", f"Option B{i}", f"Option C{i}", f"Option D{i}"],
                "answer": f"Option A{i}"
            }
            all_questions.append(q)
    # Display sample output
    output = document.getElementById("output")
    sample = json.dumps(all_questions[:min(5, len(all_questions))], indent=2)
    output.innerText = f"Generated {len(all_questions)} questions.\\nSample:\\n{sample}"

def download_json(*args, **kwargs):
    if not all_questions:
        generate_quiz()
    json_str = json.dumps(all_questions, indent=2)
    blob = Blob.new([json_str], { "type": "application/json" })
    url = URL.createObjectURL(blob)
    link = document.createElement("a")
    link.href = url
    link.download = "indian_geography_questions.json"
    document.body.appendChild(link)
    link.click()
    document.body.removeChild(link)
    URL.revokeObjectURL(url)
    </py-script>
</body>
</html>
