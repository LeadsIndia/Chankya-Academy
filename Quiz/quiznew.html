<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Indian Geography Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f0f4f8; }
    .quiz-container { background: #fff; max-width: 600px; margin: 40px auto; padding: 24px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
    .question { font-weight: bold; margin-bottom: 8px; }
    .options { margin-bottom: 16px; }
    .options label { display: block; margin: 6px 0; }
    #heatmap { margin-top: 24px; }
    .heat-cell { display: inline-block; width: 40px; height: 40px; line-height: 40px; text-align: center; margin: 2px; border-radius: 4px; color: #fff; font-weight: bold; }
    .heat-low { background: #e74c3c; }
    .heat-mid { background: #f1c40f; }
    .heat-high { background: #2ecc71; }
    .section-title { margin: 18px 0 6px 0; font-size: 1.1em; font-weight: bold; }
    button { margin: 10px 6px 0 0; padding: 8px 18px; border: none; border-radius: 4px; background: #3498db; color: #fff; font-size: 1em; cursor: pointer; }
    button:hover { background: #217dbb; }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h2>Indian Geography Quiz</h2>
    <form id="quiz-form"></form>
    <button id="submit-btn">Submit</button>
    <button id="reset-btn">Reset</button>
    <div id="results"></div>
    <div id="heatmap"></div>
  </div>
  <script>
    // --- Question Bank ---
    const questionBank = [
      // North India
      { section: "North", question: "What is the capital of Uttarakhand?", options: ["Dehradun", "Shimla", "Lucknow", "Chandigarh"], answer: "Dehradun" },
      { section: "North", question: "Which river flows through Delhi?", options: ["Yamuna", "Ganga", "Brahmaputra", "Godavari"], answer: "Yamuna" },
      { section: "North", question: "Which mountain range is in Jammu & Kashmir?", options: ["Himalayas", "Aravalli", "Vindhya", "Satpura"], answer: "Himalayas" },
      // South India
      { section: "South", question: "Which city is known as the 'Silicon Valley of India'?", options: ["Bengaluru", "Chennai", "Hyderabad", "Kochi"], answer: "Bengaluru" },
      { section: "South", question: "Which is the longest river in South India?", options: ["Godavari", "Krishna", "Kaveri", "Periyar"], answer: "Godavari" },
      { section: "South", question: "Which state is famous for backwaters?", options: ["Kerala", "Tamil Nadu", "Karnataka", "Andhra Pradesh"], answer: "Kerala" },
      // East India
      { section: "East", question: "What is the capital of West Bengal?", options: ["Kolkata", "Patna", "Bhubaneswar", "Ranchi"], answer: "Kolkata" },
      { section: "East", question: "Which river forms the Sundarbans delta?", options: ["Ganga", "Brahmaputra", "Mahanadi", "Subarnarekha"], answer: "Ganga" },
      { section: "East", question: "Which is the largest tea producing state?", options: ["Assam", "West Bengal", "Odisha", "Jharkhand"], answer: "Assam" },
      // West India
      { section: "West", question: "Which city is known as the 'Financial Capital of India'?", options: ["Mumbai", "Ahmedabad", "Pune", "Surat"], answer: "Mumbai" },
      { section: "West", question: "Gir Forest is famous for which animal?", options: ["Lion", "Tiger", "Elephant", "Leopard"], answer: "Lion" },
      { section: "West", question: "Which desert is located in Rajasthan?", options: ["Thar", "Kutch", "Gobi", "Sahara"], answer: "Thar" },
      // Central India
      { section: "Central", question: "What is the capital of Madhya Pradesh?", options: ["Bhopal", "Indore", "Jabalpur", "Gwalior"], answer: "Bhopal" },
      { section: "Central", question: "Which river flows through Kanha National Park?", options: ["Narmada", "Son", "Tapti", "Godavari"], answer: "Narmada" },
      { section: "Central", question: "Which state is famous for Khajuraho temples?", options: ["Madhya Pradesh", "Chhattisgarh", "Maharashtra", "Odisha"], answer: "Madhya Pradesh" }
    ];

    // --- Utility Functions ---
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function getRandomQuestions(n) {
      const questions = [...questionBank];
      shuffleArray(questions);
      return questions.slice(0, n);
    }

    // --- Quiz Logic ---
    let currentQuestions = [];
    let sectionList = [];
    function renderQuiz() {
      currentQuestions = getRandomQuestions(10);
      sectionList = [...new Set(currentQuestions.map(q => q.section))];
      const form = document.getElementById('quiz-form');
      form.innerHTML = '';
      currentQuestions.forEach((q, idx) => {
        const optionsHtml = q.options
          .map(opt => `<label><input type="radio" name="q${idx}" value="${opt}"> ${opt}</label>`)
          .join('');
        form.innerHTML += `
          <div class="question">${idx + 1}. [${q.section}] ${q.question}</div>
          <div class="options">${optionsHtml}</div>
        `;
      });
      document.getElementById('results').innerHTML = '';
      document.getElementById('heatmap').innerHTML = '';
    }

    function scoreQuiz() {
      const form = document.getElementById('quiz-form');
      const results = {};
      sectionList.forEach(sec => results[sec] = { total: 0, correct: 0 });
      currentQuestions.forEach((q, idx) => {
        results[q.section].total++;
        const radios = form.querySelectorAll(`input[name="q${idx}"]`);
        let selected = '';
        radios.forEach(r => { if (r.checked) selected = r.value; });
        if (selected === q.answer) results[q.section].correct++;
      });
      return results;
    }

    function showResults() {
      const scores = scoreQuiz();
      let html = '<h3>Section-wise Scores:</h3>';
      let heatmap = '';
      sectionList.forEach(sec => {
        const { total, correct } = scores[sec];
        html += `<div class="section-title">${sec} India: ${correct} / ${total}</div>`;
        // Heat color: red (0-33%), yellow (34-66%), green (67-100%)
        let heatClass = 'heat-low';
        const pct = total ? correct / total : 0;
        if (pct > 0.66) heatClass = 'heat-high';
        else if (pct > 0.33) heatClass = 'heat-mid';
        heatmap += `<div class="heat-cell ${heatClass}" title="${sec} India: ${correct}/${total}">${sec[0]}</div>`;
      });
      document.getElementById('results').innerHTML = html;
      document.getElementById('heatmap').innerHTML = `<div>${heatmap}</div>`;
    }

    document.getElementById('submit-btn').onclick = function(e) {
      e.preventDefault();
      showResults();
    };
    document.getElementById('reset-btn').onclick = function(e) {
      e.preventDefault();
      renderQuiz();
    };

    // --- Initialize ---
    renderQuiz();
  </script>
</body>
</html>
